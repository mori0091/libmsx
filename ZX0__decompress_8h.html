<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmsx: include/ZX0_decompress.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libmsx
   </div>
   <div id="projectbrief">C library for MSX</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ZX0__decompress_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ZX0_decompress.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Decompresser of ZX0 compressed file format version 2.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bmem_8h_source.html">bmem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vmem_8h_source.html">vmem.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for ZX0_decompress.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="ZX0__decompress_8h__incl.svg" width="283" height="403"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="ZX0__decompress_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a56972e6ede569139d6dfc035242e59eb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ZX0__decompress_8h.html#a56972e6ede569139d6dfc035242e59eb">ZX0_decompress</a> (const uint8_t *src, uint8_t *dst)</td></tr>
<tr class="memdesc:a56972e6ede569139d6dfc035242e59eb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>MSX</code> Decompress a ZX0 data stream.  <a href="ZX0__decompress_8h.html#a56972e6ede569139d6dfc035242e59eb">More...</a><br /></td></tr>
<tr class="separator:a56972e6ede569139d6dfc035242e59eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2550b40a8002effb233fb92fa9158d6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ZX0__decompress_8h.html#aa2550b40a8002effb233fb92fa9158d6">ZX0_decompress_bmem</a> (<a class="el" href="group__BANKED__MEMORY__DIRECT__ACCESS.html#ga2b2d2e51ae616ffb07e5acf46a963e3d">bmemptr_t</a> src, uint8_t *dst)</td></tr>
<tr class="memdesc:aa2550b40a8002effb233fb92fa9158d6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>MSX</code> Decompress a ZX0 data stream in Banked Memory.  <a href="ZX0__decompress_8h.html#aa2550b40a8002effb233fb92fa9158d6">More...</a><br /></td></tr>
<tr class="separator:aa2550b40a8002effb233fb92fa9158d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e8c03f71e60a5968881659b4c1e9a6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ZX0__decompress_8h.html#aa5e8c03f71e60a5968881659b4c1e9a6">ZX0_decompress_bmem_to_vmem</a> (<a class="el" href="group__BANKED__MEMORY__DIRECT__ACCESS.html#ga2b2d2e51ae616ffb07e5acf46a963e3d">bmemptr_t</a> src, <a class="el" href="group__VMEM__ACCESS.html#gaaa8bd02096bc1fc31f3da323f1d0a1f8">vmemptr_t</a> dst)</td></tr>
<tr class="memdesc:aa5e8c03f71e60a5968881659b4c1e9a6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>MSX</code> Decompress a ZX0 data stream in Banked Memory to VRAM.  <a href="ZX0__decompress_8h.html#aa5e8c03f71e60a5968881659b4c1e9a6">More...</a><br /></td></tr>
<tr class="separator:aa5e8c03f71e60a5968881659b4c1e9a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada330460774f5755d6098ac50fc1bdff"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ZX0__decompress_8h.html#ada330460774f5755d6098ac50fc1bdff">ZX0_decompress_bmem_to_vmem_buffer</a> (<a class="el" href="group__BANKED__MEMORY__DIRECT__ACCESS.html#ga2b2d2e51ae616ffb07e5acf46a963e3d">bmemptr_t</a> src, <a class="el" href="group__VMEM__ACCESS.html#gaaa8bd02096bc1fc31f3da323f1d0a1f8">vmemptr_t</a> dst)</td></tr>
<tr class="memdesc:ada330460774f5755d6098ac50fc1bdff"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>MSX2</code> Decompress a ZX0 data stream in Banked Memory to VRAM via main RAM page #0 buffer.  <a href="ZX0__decompress_8h.html#ada330460774f5755d6098ac50fc1bdff">More...</a><br /></td></tr>
<tr class="separator:ada330460774f5755d6098ac50fc1bdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd57a5ac50e4cf8b8ce53457cb71568"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ZX0__decompress_8h.html#afbd57a5ac50e4cf8b8ce53457cb71568">ZX0_decompress_resource_to_vmem</a> (const char *path, <a class="el" href="group__VMEM__ACCESS.html#gaaa8bd02096bc1fc31f3da323f1d0a1f8">vmemptr_t</a> dst)</td></tr>
<tr class="memdesc:afbd57a5ac50e4cf8b8ce53457cb71568"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>MSX</code> Decompress a ZX0 resource in banked memory to VRAM.  <a href="ZX0__decompress_8h.html#afbd57a5ac50e4cf8b8ce53457cb71568">More...</a><br /></td></tr>
<tr class="separator:afbd57a5ac50e4cf8b8ce53457cb71568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7aaac8086a9b9141af10ecabf5f522"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ZX0__decompress_8h.html#a0e7aaac8086a9b9141af10ecabf5f522">ZX0_decompress_resource_to_vmem_buffer</a> (const char *path, <a class="el" href="group__VMEM__ACCESS.html#gaaa8bd02096bc1fc31f3da323f1d0a1f8">vmemptr_t</a> dst)</td></tr>
<tr class="memdesc:a0e7aaac8086a9b9141af10ecabf5f522"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>MSX2</code> Decompress a ZX0 resource in banked memory to VRAM via main RAM page #0 buffer.  <a href="ZX0__decompress_8h.html#a0e7aaac8086a9b9141af10ecabf5f522">More...</a><br /></td></tr>
<tr class="separator:a0e7aaac8086a9b9141af10ecabf5f522"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Decompresser of ZX0 compressed file format version 2. </p>
<p >The ZX0 data compression format and algorithm was designed by Einar Saukas.</p>
<p >This C language implementation of ZX0 decompresser is reimplemented by Daishi Mori (mori0091) for use with libmsx.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/einar-saukas/ZX0">https://github.com/einar-saukas/ZX0</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="ZX0__decompress_8h_source.html">ZX0_decompress.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a56972e6ede569139d6dfc035242e59eb" name="a56972e6ede569139d6dfc035242e59eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56972e6ede569139d6dfc035242e59eb">&#9670;&#160;</a></span>ZX0_decompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t ZX0_decompress </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>MSX</code> Decompress a ZX0 data stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Pointer to ZX0 data stream. </td></tr>
    <tr><td class="paramname">dst</td><td>Destination base address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length (in bytes) of the decompressed data. </dd></dl>

</div>
</div>
<a id="aa2550b40a8002effb233fb92fa9158d6" name="aa2550b40a8002effb233fb92fa9158d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2550b40a8002effb233fb92fa9158d6">&#9670;&#160;</a></span>ZX0_decompress_bmem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t ZX0_decompress_bmem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BANKED__MEMORY__DIRECT__ACCESS.html#ga2b2d2e51ae616ffb07e5acf46a963e3d">bmemptr_t</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>MSX</code> Decompress a ZX0 data stream in Banked Memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Pointer to ZX0 data stream in Banked Memory. </td></tr>
    <tr><td class="paramname">dst</td><td>Destination base address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length (in bytes) of the decompressed data. </dd></dl>

</div>
</div>
<a id="aa5e8c03f71e60a5968881659b4c1e9a6" name="aa5e8c03f71e60a5968881659b4c1e9a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e8c03f71e60a5968881659b4c1e9a6">&#9670;&#160;</a></span>ZX0_decompress_bmem_to_vmem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ZX0_decompress_bmem_to_vmem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BANKED__MEMORY__DIRECT__ACCESS.html#ga2b2d2e51ae616ffb07e5acf46a963e3d">bmemptr_t</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__VMEM__ACCESS.html#gaaa8bd02096bc1fc31f3da323f1d0a1f8">vmemptr_t</a>&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>MSX</code> Decompress a ZX0 data stream in Banked Memory to VRAM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Pointer to ZX0 data stream in Banked Memory. </td></tr>
    <tr><td class="paramname">dst</td><td>Destination base address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length (in bytes) of the decompressed data. </dd></dl>

</div>
</div>
<a id="ada330460774f5755d6098ac50fc1bdff" name="ada330460774f5755d6098ac50fc1bdff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada330460774f5755d6098ac50fc1bdff">&#9670;&#160;</a></span>ZX0_decompress_bmem_to_vmem_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ZX0_decompress_bmem_to_vmem_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__BANKED__MEMORY__DIRECT__ACCESS.html#ga2b2d2e51ae616ffb07e5acf46a963e3d">bmemptr_t</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__VMEM__ACCESS.html#gaaa8bd02096bc1fc31f3da323f1d0a1f8">vmemptr_t</a>&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>MSX2</code> Decompress a ZX0 data stream in Banked Memory to VRAM via main RAM page #0 buffer. </p>
<p >High throughput (but low responsiveness) version of <a class="el" href="ZX0__decompress_8h.html#aa5e8c03f71e60a5968881659b4c1e9a6" title="MSX Decompress a ZX0 data stream in Banked Memory to VRAM.">ZX0_decompress_bmem_to_vmem()</a>.</p>
<p >This function uses main RAM page #0 as 16KiB buffer for faster decompression.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Pointer to ZX0 data stream in Banked Memory. </td></tr>
    <tr><td class="paramname">dst</td><td>Destination base address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length (in bytes) of the decompressed data.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is available for MSX1 w/ 64KiB main RAM if main RAM resides in same slot.</dd>
<dd>
But some MSX1 has only 8, 16, or 32 KiB main RAM. Or even if it has 64KiB main RAM, some part of main RAM may resides in different slot. This function does not support such MSX1. So it is described as for <code>MSX2</code> or later. </dd></dl>

</div>
</div>
<a id="afbd57a5ac50e4cf8b8ce53457cb71568" name="afbd57a5ac50e4cf8b8ce53457cb71568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd57a5ac50e4cf8b8ce53457cb71568">&#9670;&#160;</a></span>ZX0_decompress_resource_to_vmem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ZX0_decompress_resource_to_vmem </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__VMEM__ACCESS.html#gaaa8bd02096bc1fc31f3da323f1d0a1f8">vmemptr_t</a>&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>MSX</code> Decompress a ZX0 resource in banked memory to VRAM. </p>
<p >Searches for an embedded resource in banked memory by name and decmompress it into the specified address in VRAM. If the resource is not found, do nothing.</p>
<p >This function is same as the following code: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code hl_struct" href="group__RESOURCES__FIND.html#structResourceIndex">ResourceIndex</a> * res = <a class="code hl_function" href="group__RESOURCES__FIND.html#ga62a1b98bcbec70aca667e01fb089ff6c">resource_find</a>(path);</div>
<div class="line"><span class="keywordflow">if</span> (res) {</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_function" href="ZX0__decompress_8h.html#aa5e8c03f71e60a5968881659b4c1e9a6">ZX0_decompress_bmem_to_vmem</a>(res-&gt;<a class="code hl_variable" href="group__RESOURCES__FIND.html#a27b211ace7b7ca4828e4c09434bb9bf2">offset</a>, dst);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">return</span> 0;</div>
<div class="ttc" id="aZX0__decompress_8h_html_aa5e8c03f71e60a5968881659b4c1e9a6"><div class="ttname"><a href="ZX0__decompress_8h.html#aa5e8c03f71e60a5968881659b4c1e9a6">ZX0_decompress_bmem_to_vmem</a></div><div class="ttdeci">uint32_t ZX0_decompress_bmem_to_vmem(bmemptr_t src, vmemptr_t dst)</div><div class="ttdoc">MSX Decompress a ZX0 data stream in Banked Memory to VRAM.</div></div>
<div class="ttc" id="agroup__RESOURCES__FIND_html_a27b211ace7b7ca4828e4c09434bb9bf2"><div class="ttname"><a href="group__RESOURCES__FIND.html#a27b211ace7b7ca4828e4c09434bb9bf2">ResourceIndex::offset</a></div><div class="ttdeci">bmemptr_t offset</div><div class="ttdoc">Address of the resource in banked memory.</div><div class="ttdef"><b>Definition:</b> <a href="resources_8h_source.html#l00046">resources.h:46</a></div></div>
<div class="ttc" id="agroup__RESOURCES__FIND_html_ga62a1b98bcbec70aca667e01fb089ff6c"><div class="ttname"><a href="group__RESOURCES__FIND.html#ga62a1b98bcbec70aca667e01fb089ff6c">resource_find</a></div><div class="ttdeci">const ResourceIndex * resource_find(const char *path)</div><div class="ttdoc">Find an embedded resource by name.</div></div>
<div class="ttc" id="agroup__RESOURCES__FIND_html_structResourceIndex"><div class="ttname"><a href="group__RESOURCES__FIND.html#structResourceIndex">ResourceIndex</a></div><div class="ttdoc">Index record of an embedded resource.</div><div class="ttdef"><b>Definition:</b> <a href="resources_8h_source.html#l00045">resources.h:45</a></div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>path/file name of the resource. </td></tr>
    <tr><td class="paramname">dst</td><td>destination address of VRAM. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of decompressed image.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="ZX0__decompress_8h.html#aa5e8c03f71e60a5968881659b4c1e9a6" title="MSX Decompress a ZX0 data stream in Banked Memory to VRAM.">ZX0_decompress_bmem_to_vmem()</a> </dd></dl>

</div>
</div>
<a id="a0e7aaac8086a9b9141af10ecabf5f522" name="a0e7aaac8086a9b9141af10ecabf5f522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e7aaac8086a9b9141af10ecabf5f522">&#9670;&#160;</a></span>ZX0_decompress_resource_to_vmem_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ZX0_decompress_resource_to_vmem_buffer </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__VMEM__ACCESS.html#gaaa8bd02096bc1fc31f3da323f1d0a1f8">vmemptr_t</a>&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>MSX2</code> Decompress a ZX0 resource in banked memory to VRAM via main RAM page #0 buffer. </p>
<p >High throughput (but low responsiveness) version of <a class="el" href="ZX0__decompress_8h.html#afbd57a5ac50e4cf8b8ce53457cb71568" title="MSX Decompress a ZX0 resource in banked memory to VRAM.">ZX0_decompress_resource_to_vmem()</a>.</p>
<p >This function uses main RAM page #0 as 16KiB buffer for faster decompression.</p>
<p >This function is same as the following code: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code hl_struct" href="group__RESOURCES__FIND.html#structResourceIndex">ResourceIndex</a> * res = <a class="code hl_function" href="group__RESOURCES__FIND.html#ga62a1b98bcbec70aca667e01fb089ff6c">resource_find</a>(path);</div>
<div class="line"><span class="keywordflow">if</span> (res) {</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_function" href="ZX0__decompress_8h.html#ada330460774f5755d6098ac50fc1bdff">ZX0_decompress_bmem_to_vmem_buffer</a>(res-&gt;<a class="code hl_variable" href="group__RESOURCES__FIND.html#a27b211ace7b7ca4828e4c09434bb9bf2">offset</a>, dst);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">return</span> 0;</div>
<div class="ttc" id="aZX0__decompress_8h_html_ada330460774f5755d6098ac50fc1bdff"><div class="ttname"><a href="ZX0__decompress_8h.html#ada330460774f5755d6098ac50fc1bdff">ZX0_decompress_bmem_to_vmem_buffer</a></div><div class="ttdeci">uint32_t ZX0_decompress_bmem_to_vmem_buffer(bmemptr_t src, vmemptr_t dst)</div><div class="ttdoc">MSX2 Decompress a ZX0 data stream in Banked Memory to VRAM via main RAM page #0 buffer.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>path/file name of the resource. </td></tr>
    <tr><td class="paramname">dst</td><td>destination address of VRAM. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of decompressed image.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is available for MSX1 w/ 64KiB main RAM if main RAM resides in same slot.</dd>
<dd>
But some MSX1 has only 8, 16, or 32 KiB main RAM. Or even if it has 64KiB main RAM, some part of main RAM may resides in different slot. This function does not support such MSX1. So it is described as for <code>MSX2</code> or later.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="ZX0__decompress_8h.html#ada330460774f5755d6098ac50fc1bdff" title="MSX2 Decompress a ZX0 data stream in Banked Memory to VRAM via main RAM page #0 buffer.">ZX0_decompress_bmem_to_vmem_buffer()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="ZX0__decompress_8h.html">ZX0_decompress.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
