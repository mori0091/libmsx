<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmsx: include/bios_entry.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libmsx
   </div>
   <div id="projectbrief">C library for MSX</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('bios__entry_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">bios_entry.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Assembler entry points for MSX BIOS functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for bios_entry.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="bios__entry_8h__incl.svg" width="166" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="bios__entry_8h__dep__incl.svg" width="6196" height="351"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="bios__entry_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a43cf7de11d57db1dc1ef1ae8d1d3acba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bios__entry_8h.html#a43cf7de11d57db1dc1ef1ae8d1d3acba">BIOS_ENTRY_H</a></td></tr>
<tr class="separator:a43cf7de11d57db1dc1ef1ae8d1d3acba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7dfb0604fdb04a3a658b5e1db04cdefa"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bios__entry_8h.html#a7dfb0604fdb04a3a658b5e1db04cdefa">GTSTCK</a></td></tr>
<tr class="memdesc:a7dfb0604fdb04a3a658b5e1db04cdefa"><td class="mdescLeft">&#160;</td><td class="mdescRight">BIOS : GTSTCK (00D5H / MAIN) <code>MSX</code>.  <a href="bios__entry_8h.html#a7dfb0604fdb04a3a658b5e1db04cdefa">More...</a><br /></td></tr>
<tr class="separator:a7dfb0604fdb04a3a658b5e1db04cdefa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64496cb8cdbabc91bcf6d1b4eb4d7795"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bios__entry_8h.html#a64496cb8cdbabc91bcf6d1b4eb4d7795">GTTRIG</a></td></tr>
<tr class="memdesc:a64496cb8cdbabc91bcf6d1b4eb4d7795"><td class="mdescLeft">&#160;</td><td class="mdescRight">BIOS : GTTRIG (00D8H / MAIN) <code>MSX</code>  <a href="bios__entry_8h.html#a64496cb8cdbabc91bcf6d1b4eb4d7795">More...</a><br /></td></tr>
<tr class="separator:a64496cb8cdbabc91bcf6d1b4eb4d7795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba5f9f725b4d999e89ef352fba7bace"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bios__entry_8h.html#aeba5f9f725b4d999e89ef352fba7bace">CHGCPU</a></td></tr>
<tr class="memdesc:aeba5f9f725b4d999e89ef352fba7bace"><td class="mdescLeft">&#160;</td><td class="mdescRight">BIOS : CHGCPU (0180H/MAIN) <code>MSXturboR</code>  <a href="bios__entry_8h.html#aeba5f9f725b4d999e89ef352fba7bace">More...</a><br /></td></tr>
<tr class="separator:aeba5f9f725b4d999e89ef352fba7bace"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Assembler entry points for MSX BIOS functions. </p>
<dl class="section note"><dt>Note</dt><dd>This defines address and name of entry points.</dd></dl>
<p>Copyright (c) 2022 Daishi Mori (mori0091)</p>
<p >This software is released under the MIT License.<br  />
See <a href="https://github.com/mori0091/libmsx/blob/main/LICENSE">https://github.com/mori0091/libmsx/blob/main/LICENSE</a></p>
<p >GitHub libmsx project<br  />
<a href="https://github.com/mori0091/libmsx">https://github.com/mori0091/libmsx</a> </p>

<p class="definition">Definition in file <a class="el" href="bios__entry_8h_source.html">bios_entry.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a43cf7de11d57db1dc1ef1ae8d1d3acba" name="a43cf7de11d57db1dc1ef1ae8d1d3acba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43cf7de11d57db1dc1ef1ae8d1d3acba">&#9670;&nbsp;</a></span>BIOS_ENTRY_H</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIOS_ENTRY_H</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="bios__entry_8h_source.html#l00019">19</a> of file <a class="el" href="bios__entry_8h_source.html">bios_entry.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7dfb0604fdb04a3a658b5e1db04cdefa" name="a7dfb0604fdb04a3a658b5e1db04cdefa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dfb0604fdb04a3a658b5e1db04cdefa">&#9670;&nbsp;</a></span>GTSTCK</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t GTSTCK</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>BIOS : GTSTCK (00D5H / MAIN) <code>MSX</code>. </p>
<p >Get the status of the eight-way lever on the joystick or the arrow keys on the keyboard.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>joystick number<ul>
<li><code>0</code> : keyboard (the arrow keys)</li>
<li><code>1</code> : joystick #1</li>
<li><code>2</code> : joystick #2</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>status of the eight-way lever or the arrow keys.<ul>
<li><code>0</code> : center</li>
<li><code>1</code> : north</li>
<li><code>2</code> : north east</li>
<li><code>3</code> : east</li>
<li><code>4</code> : south east</li>
<li><code>5</code> : south</li>
<li><code>6</code> : south west</li>
<li><code>7</code> : west</li>
<li><code>8</code> : north west</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd>ALL CPU registers will be changed.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="bios_8h.html#a221aeb5b2cb8816e03b9413e7c945ed8" title="BIOS : GTSTCK (00D5H / MAIN) MSX">msx_GTSTCK()</a> </dd>
<dd>
<a class="el" href="input_8h.html#a087c749840978e4916c876d906668397" title="Get the status of the joystick buttons and levers.">joypad_get_state()</a> </dd>
<dd>
MSX Datapack Volume 2, pp.70 (w/ error) </dd>
<dd>
MSX Datapack Volume 2, pp.612 </dd></dl>

<p class="definition">Definition at line <a class="el" href="bios__entry_8h_source.html#l00054">54</a> of file <a class="el" href="bios__entry_8h_source.html">bios_entry.h</a>.</p>

</div>
</div>
<a id="a64496cb8cdbabc91bcf6d1b4eb4d7795" name="a64496cb8cdbabc91bcf6d1b4eb4d7795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64496cb8cdbabc91bcf6d1b4eb4d7795">&#9670;&nbsp;</a></span>GTTRIG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t GTTRIG</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>BIOS : GTTRIG (00D8H / MAIN) <code>MSX</code> </p>
<p >Get the status of the trigger button on the joystick or the SPACE key on the keyboard.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>trigger button number<ul>
<li><code>0</code> : keyboard (the SPACE key)</li>
<li><code>1</code> : trigger button #1 of the joystick #1</li>
<li><code>2</code> : trigger button #1 of the joystick #2</li>
<li><code>3</code> : trigger button #2 of the joystick #1</li>
<li><code>4</code> : trigger button #2 of the joystick #2</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">A</td><td>status of the trigger button or the SPACE key.<ul>
<li><code>0x00</code> : released</li>
<li><code>0xFF</code> : pressed</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="bios_8h.html#a68a83910179dac98a2d038c99ea55abf" title="BIOS : GTTRIG (00D8H / MAIN) MSX">msx_GTTRIG()</a> </dd>
<dd>
<a class="el" href="input_8h.html#a087c749840978e4916c876d906668397" title="Get the status of the joystick buttons and levers.">joypad_get_state()</a> </dd>
<dd>
MSX Datapack Volume 2, pp.71 </dd>
<dd>
MSX Datapack Volume 2, pp.613 (w/ error) </dd></dl>

<p class="definition">Definition at line <a class="el" href="bios__entry_8h_source.html#l00078">78</a> of file <a class="el" href="bios__entry_8h_source.html">bios_entry.h</a>.</p>

</div>
</div>
<a id="aeba5f9f725b4d999e89ef352fba7bace" name="aeba5f9f725b4d999e89ef352fba7bace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba5f9f725b4d999e89ef352fba7bace">&#9670;&nbsp;</a></span>CHGCPU</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t CHGCPU</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>BIOS : CHGCPU (0180H/MAIN) <code>MSXturboR</code> </p>
<p >Change the CPU mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>cpu mode, that shall be the following bit pattern:<ul>
<li><code>bit #7</code> : <code>LED</code><ul>
<li><code>0</code> : Do not change the LED status</li>
<li><code>1</code> : Turn the LED on and off according to the <code>CPU</code></li>
</ul>
</li>
<li><code>bit #6..#2</code> : (unused, shall be all <code>0</code>)</li>
<li><code>bit #1..#0</code> : <code>CPU</code><ul>
<li><code>00</code> : Z80 mode</li>
<li><code>01</code> : R800 ROM mode</li>
<li><code>10</code> : R800 DRAM mode</li>
<li><code>11</code> : (reserved)</li>
</ul>
</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd>Interrupts will be enabled.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The values of all registers except the <code>R</code> register will be inherited by the changed CPU.</dd>
<dd>
R800 DRAM mode is the default and fastest CPU mode for MSXturboR. DRAM access is faster than ROM access on R800 CPUs. Therefore, the MSXturboR boot code copies the system software (i.e. BIOS ROM code) to DRAM during the boot sequence, and maps that DRAM area to the address space instead of BIOS ROM.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Changing the CPU mode is done by simply changing the settings of the system control LSI (S1990). Therefore, if you change the CPU mode to Z80 mode or R800 ROM mode, then change the contents of the DRAM area where was used for system software, and then change the CPU mode to R800 DRAM mode, the system will crash. System software is transferred to the DRAM only at system startup.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="bios_8h.html#ade3c2351bf7f00eb60bd423e0b6fa4d1" title="BIOS : CHGCPU (0180H/MAIN) MSXturboR">msx_CHGCPU()</a> </dd>
<dd>
<a class="el" href="bios_8h.html#a4bb01de7baaae78f6cc43e81ba88d9af" title="Change the CPU mode.">msx_set_cpu_mode()</a> </dd>
<dd>
MSX Datapack Volume 3, pp.13 </dd>
<dd>
MSX Datapack Volume 3, pp.25 </dd></dl>

<p class="definition">Definition at line <a class="el" href="bios__entry_8h_source.html#l00121">121</a> of file <a class="el" href="bios__entry_8h_source.html">bios_entry.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="bios__entry_8h.html">bios_entry.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
